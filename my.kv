WindowManager:
    StartWindow:
    MainWindow:
    InfoWindow:
    GraphWindow:

<StartWindow>
    name: "start"

    MDGridLayout:
        rows: 3
        padding: "20sp"

        BoxLayout:

            padding: [30, 0, 30, 20]

            MDRoundFlatButton:
                text: u'Подщет сложных процентов'
                size_hint: 0.4, 0.5

                font_size: 30

                on_release:
                    app.root.current = 'main'

        BoxLayout:
            size_hint: 0.9, 0.7
            padding: [30, 0, 30, 20]
            MDRoundFlatButton:
                text: u'Полезная Информация'
                size_hint: 0.4, 0.5

                font_size: 30

                on_release:
                    app.root.current = 'info'

        BoxLayout:
            size_hint: 0.9, 0.7

            MDRoundFlatButton:
                text: u'ВЫХОД'
                text_color: 50, 0, 100, 1
                theme_text_color: "Custom"
                size_hint: 0.4, 0.5

                font_size: 30

                on_press: app.stop()



<MainWindow>
    name:   "main"

    muns_input: muns_input
    year_percent_input: year_percent_input
    start_input: start_input
    add_input: add_input

    final_deposit: final_deposit
    get_percents: get_percents
    all_add_sum: all_add_sum
    tax: tax
    net_profit: net_profit


    MDGridLayout:
        rows: 4
        padding: 10

        AnchorLayout:
            andhor_y: 'top'
            size_hint: 1, 0.2

            MDLabel:
                text: "Подщет сложных процентов"
                font_size: 50
                halign: "center"
                text_color: 0, 0, 100, 1
                theme_text_color: "Custom"


        AnchorLayout:

            MDGridLayout:
                rows: 2
                cols: 2


                BoxLayout:
                    padding: '10sp'
                    orientation: 'horizontal'
                    MDLabel:
                        text: u'Количество месяцев'
                        halign: 'left'
                        valing: 'top'
                        text_size: self.size
                        font_size: 30

                    MDTextField:

                        id: muns_input
                        size_hint: 0.7, 0.5
                        multiline: False

                        font_size: 30
                        multiline: False
                        input_type: 'number'
                        input_filter: 'float'


                BoxLayout:
                    padding: '10sp'
                    orientation: 'horizontal'
                    MDLabel:
                        text: u'Годовой процент'
                        halign: 'left'
                        valing: 'center'
                        text_size: self.size
                        font_size: 30

                    MDTextField:

                        id: year_percent_input
                        size_hint: 0.7, 0.5
                        multiline: False
                        font_size: 30
                        multiline: False
                        input_type: 'number'
                        input_filter: 'float'

                BoxLayout:
                    padding: '10sp'
                    orientation: 'horizontal'

                    MDLabel:
                        text: u'Стартовый взнос'
                        halign: 'left'
                        valing: 'center'
                        text_size: self.size
                        font_size: 30

                    MDTextField:

                        id: start_input
                        size_hint: 0.7, 0.5
                        multiline: False
                        font_size: 30
                        multiline: False
                        input_type: 'number'
                        input_filter: 'float'

                BoxLayout:
                    padding: '10sp'
                    orientation: 'horizontal'
                    MDLabel:
                        text: u'Месячный взнос'
                        halign: 'left'
                        valing: 'center'
                        text_size: self.size
                        font_size: 30

                    MDTextField:

                        id: add_input
                        size_hint: 0.7, 0.5
                        multiline: False
                        font_size: 30
                        multiline: False
                        input_type: 'number'
                        input_filter: 'float'


        GridLayout:
            cols: 2
            size_hint: 1.5, 1
            BoxLayout:
                padding: '10sp'
                orientation: 'vertical'
                MDLabel:
                    text: u'Финальный депозит'
                    font_size: 35
                    halign: 'left'
                    valing: 'middle'
                    text_size: self.size
                MDLabel:
                    text: u'Проценты'
                    font_size: 35
                    halign: 'left'
                    valing: 'middle'
                    text_size: self.size
                MDLabel:
                    text: 'Внесенная сума'
                    font_size: 35
                    halign: 'left'
                    valing: 'middle'
                    text_size: self.size

                MDLabel:
                    text: 'Cумма налогов'
                    font_size: 35
                    halign: 'left'
                    valing: 'middle'
                    text_size: self.size

                MDLabel:
                    text: 'Чистая прибыль'
                    font_size: 35
                    halign: 'left'
                    valing: 'middle'
                    text_size: self.size

            BoxLayout:
                size_hint: 0.5, 1
                orientation: 'vertical'
                padding: '10sp'
                MDLabel:
                    text: ''
                    id: final_deposit
                    font_size: 35
                    halign: 'left'
                    valing: 'middle'
                    text_size: self.size
                MDLabel:
                    id: get_percents
                    text: ''
                    font_size: 35
                    halign: 'left'
                    valing: 'middle'
                    text_size: self.size
                MDLabel:
                    text: ''
                    id: all_add_sum
                    font_size: 35

                    text_size: self.size
                MDLabel:
                    text: ''
                    id: tax
                    font_size: 35
                    halign: 'left'
                    valing: 'middle'
                    text_size: self.size
                MDLabel:
                    text: ''
                    id: net_profit
                    font_size: 35
                    halign: 'left'
                    valing: 'middle'
                    text_size: self.size




        BoxLayout:
            size_hint: 0.9, 0.7
            padding: [30, 0, 30, 20]

            MDRoundFlatButton:
                text: u'Подсчитать'
                size_hint: 0.5, 0.4

                font_size: 30

                on_release:
                    root.calculation()
                    root.change_graph()

            MDRoundFlatButton:
                text: u'График'
                size_hint: 0.3, 0.4

                font_size: 30

                on_release:

                    app.root.current = 'graph_window'

<InfoWindow>
    name: "info"
    BoxLayout:
        orientation: 'vertical'
        padding: '20ps'
        MDLabel:
            text: u'Некоторая полезная информация'
            font_size: 50

            text_size: self.size

        MDRoundFlatButton:
            text: u'ВЫХОД'
            text_color: 50, 0, 100, 1
            theme_text_color: "Custom"
            size_hint: 0.9, 0.2

            font_size: 30

            on_press: app.root.current = 'start'

<GraphWindow>
    name: "graph_window"

    graph_img: graph_img
    BoxLayout:
        orientation: 'vertical'
        padding: '20ps'
        Image:
            id: graph_img
            source: root.img_graph
            size: self.texture_size

        BoxLayout:
            size_hint: 0.9, 0.7
            padding: [30, 0, 30, 20]



            MDRoundFlatButton:
                text: u'Закрыть'
                size_hint: 1, 0.2

                font_size: 30

                on_release:
                    app.root.current = 'main'